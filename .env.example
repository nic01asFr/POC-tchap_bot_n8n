# Configuration pour Albert-Tchap avec intégration n8n

# Logging
LOG_LEVEL=10
SYSTEMD_LOGGING=False

# Configuration des chemins de stockage
STORE_PATH='/app/data/store/'
SESSION_PATH='/app/data/session.txt'

# Configuration du webhook pour l'intégration avec n8n
WEBHOOK_ENABLED=True
WEBHOOK_HOST="0.0.0.0"
WEBHOOK_PORT=8080
WEBHOOK_ENDPOINT="/webhook"
WEBHOOK_TOKEN=

# Configuration globale du webhook sortant (Tchap → n8n)
# URL du webhook n8n qui recevra les messages
GLOBAL_WEBHOOK_URL="https://votre-url-n8n.example.com/webhook"
GLOBAL_WEBHOOK_METHOD="GET"
GLOBAL_WEBHOOK_AUTO_FORWARD=True

# Configuration des webhooks spécifiques par salon (sortants)
# Format: {"!room_id:server.org": {"url": "https://webhook.url", "method": "GET"}}
WEBHOOK_ROOM_CONFIG='{"!votre-room-id:serveur.org": {"url": "https://votre-url-n8n.example.com/webhook", "method": "GET"}}'

# Configuration des salons pour le webhook entrant (n8n → Tchap)
# Format: {"token": "!room_id:server.org"}
WEBHOOK_INCOMING_ROOMS_CONFIG='{"test":"!votre-room-id:serveur.org"}'

# Préfixe pour les messages du bot
MESSAGE_PREFIX='[WebhookBot-n8n]'
BOT_NAME="Webhook n8n Bot"

# Configuration de l'optimisation des webhooks
WEBHOOK_SIMPLIFY_PAYLOAD=True
WEBHOOK_MAX_MESSAGE_LENGTH=1000
WEBHOOK_FILTER_METADATA=True
WEBHOOK_SIMPLIFICATION_LEVEL=standard  # Options: minimal, standard, full

# Configuration de l'enrichissement des données
MATRIX_API_ENABLED=True
STORE_ACCESS_TOKEN=True
WEBHOOK_INCLUDE_HIERARCHICAL_DATA=True 

# Configuration n8n
N8N_ENABLED=False
N8N_BASE_URL=https://n8n.example.com
N8N_AUTH_TOKEN=votre-token-bearer
N8N_MCP_URL=https://n8n.example.com/webhook/mcp
N8N_TOOLS_CACHE_TTL=300 